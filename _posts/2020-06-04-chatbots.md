---
layout: post
title: Chatbots
tags:
- chatbots
- python
toc: true
---

## Motivation

[On the Subject of Talent](https://drawabox.com/article/talent) - this is originally for artists, but I believe it applies to programmers really well too.

*Rough Draft Below*

## Tools
 - Repl.it Account - This is where we will be hosting the bot and programming it.
 - Discord Test Server - To test our bot and its various commands

## Workshop

### Repl.it Setup
We'll be using repl.it to code our discord bot. This is an IDE that is built into the browser, so it will allow us to create our bot without having to host it on our PC.

To start, make an account and create a new project in Repl.it. Next, click on **main.py** and type the following on the first line:
```python
from discord.ext import commands
```
This command will allow us to utilize the **discord.py** library and create our bot. 
### Grabbing the Token
If you haven't created an account on Discord, do that first. Then, once you have an account we need to make a test server. This is where we will invite the bot and test out its commands.

To begin setting up your bot, go to this page:
[Discord Developer Page](https://discord.com/developers/applications)
Click on new application 
- Go to bot page and click ‘Add Bot’
- Scroll down to ‘TOKEN’ and click on copy. This is the bot’s password we use to login into it.
- Be careful to NEVER share the token, someone can pretend to be your bot
- Go to the secrets panel 
- Create a key called password and paste your token there
- Make sure to never make it public - or else your token might get stolen
- At the top of your program, add the following:

```python
import os
bot = commands.Bot(command_prefix='!')
password = os.environ['password']
bot.run(password)
```
This will allow your bot to access the token and run.

### Bot Permissions

- Go back to the Discord Developers page 
- Under ‘OAuth2 URL Generator’, go to ‘Scopes’ and select the ‘bot’ checkbox.
- Now, we have to figure out the list of permissions for our bot. For your actual bot, I highly suggest taking the time to understand this so you can give it the permissions you need, but for the workshop, check off “Read messages/View Channels” and ‘Send Messages’.
### Adding Bot to Server
- Based on what you checked off, the invite URL should have updated. Hit ‘Copy’ and paste it in a new tab on your browser.
- The page will ask you which server to add the bot, and you should pick your test server that we created earlier.
- Be careful where you’re adding it 

### First Task
- Let’s start off with a simple !hello command that will say hello to the user calling it!
- This command will use ctx that is taken in from the command and use it to get the name of the user.
- This will also familiarize you with with the basic structure of a command and string manipulation.

### Second Task
- Add this line of code under bot = commands.Bot(command_prefix=’!’):
- Add this line of code under import os
```
import random
bot.videos = ['https://www.youtube.com/watch?v=WDlu1OhvYBM', 'https://www.youtube.com/watch?v=1HygThMLzGs', 'https://www.youtube.com/watch?v=wtH-hdOF1uA']
```
- Feel free to replace these links with videos you can find on your own!

### Third Task
- Let’s create a wholesome bot that makes people happy
- Two commands: !happy and !sad
    - !happy: Takes in an input of something that the user thinks makes them happy and stores it in a list.
    - !sad: Takes a random item from that list and prints out that item.
